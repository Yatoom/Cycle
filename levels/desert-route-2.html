<!-- HTML -->
<a id="north" href="#N" class="north click area-1"></a>
<a id="east" href="#E" class="east click area-2"></a>
<a id="west" href="#W" class="west click area-3"></a>
<a id="south" href="#S" class="south click area-4"></a>
<img src="levels/img/cloud.png" class="cloud">

<img src="levels/img/aegis.png" id="aegisWrong">
<!-- CSS -->
<style>
  /* Load background */
  .game {
    background: url(levels/img/desert-route-2.png) no-repeat;
  }
  /* Set areas */
  .area-1 {
    top: 18%;
    left: 30%;
    height: 20%;
    width: 20%;
  }
  .area-2 {
    top: 43%;
    left: 82%;
    height: 27%;
    width: 18%;
  }
  .area-3 {
    top: 42%;
    left: 0%;
    height: 20%;
    width: 20%;
  }
  .area-4 {
    top: 80%;
    left: 53%;
    height: 20%;
    width: 20%;
  }
  /* Add cloud object */
  .cloud {
    position: absolute;
    top: 0%;
    left: -100%;
    height: 100px;
    animation: rightThenLeft 50s linear infinite;
    -webkit-animation: rightThenLeft 50s linear infinite;
  }
  /* Animation for cloud */
  @-webkit-keyframes rightThenLeft {
    0% {
      left: 0%;
    }
    50% {
      left: 100%;
    }
    100% {
      left: 0%;
    }
  }
  @keyframes rightThenLeft {
    0% {
      left: 0%;
    }
    50% {
      left: 100%;
    }
    100% {
      left: 0%;
    }
  }
  
  #aegisWrong{
    height: 100px;
    position: absolute;
    top: 72%;
    left: 71%;
    display:none;
    opacity:0.5
  } 
</style>

<!-- Javascript -->
<script>  

// OASIS PROGRESS
if (getConfig(Config.OASISPROGRESS) == 1) {
  setConfig(Config.OASISPROGRESS, 2);
} else {
  setConfig(Config.OASISPROGRESS, 0);
}

// SHIELD PROGRESS[RESET]
setConfig(Config.SHIELDPROGRESS, 0);

secondaryPlay("wind");

 $("#north").click(function(){
  goToLevel("desert-route-7");
});

 $("#east").click(function(){
  goToLevel("desert-route-3");
});

 $("#south").click(function(){
  goToLevel("desert-route");
});

 $("#west").click(function(){
  goToLevel("desert-route-4");
});

 $(document).ready(function(){
   $("#Scepter").click(function(){

     if (!hasItem(Item.AEGIS)){

    //point back to the start area; this location is never reached in the sequence
    log("The scepter lost the signal - It shakes heavily, looks like it is trying to return to where it initially found the signal for recalibration");  
    $("#aegisWrong").fadeIn(3000);  	
    setTimeout(function() {
     $("#aegisWrong").fadeOut(3000); 
   }, 2000);
    
 //   log("The scepter is at magnitude " + getConfig(Config.SHIELDPROGRESS) + "!");
 deselect();
}else{
  log("The scepter has done it's job - the Aegis is mine!");
  deselect();  
}
});
 });

</script>